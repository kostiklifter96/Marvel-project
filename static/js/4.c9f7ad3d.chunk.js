(this.webpackJsonpmarvel=this.webpackJsonpmarvel||[]).push([[4],{104:function(e,c,t){},105:function(e,c,t){},106:function(e,c,t){},107:function(e,c,t){},216:function(e,c,t){},225:function(e,c,t){"use strict";t.r(c),t.d(c,"default",(function(){return M}));var a=t(5),n=(t(104),t.p+"static/media/mjolnir.61f31e18.png"),r=t(0),s=t(23),i=t(26),o=t(1),l=function(e){var c=e.data,t=c.name,a=c.description,n=c.thumbnail,r=c.homepage,s=c.wiki;return Object(o.jsxs)("div",{className:"randomchar__block",children:["http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===n?Object(o.jsx)("img",{src:n,alt:"Random character",className:"randomchar__img",style:{objectFit:"contain"}}):Object(o.jsx)("img",{src:n,alt:"Random character",className:"randomchar__img"}),Object(o.jsxs)("div",{className:"randomchar__info",children:[Object(o.jsx)("p",{className:"randomchar__name",children:t}),Object(o.jsx)("p",{className:"randomchar__descr",children:a}),Object(o.jsxs)("div",{className:"randomchar__btns",children:[Object(o.jsx)("a",{href:r,className:"button button__main",children:Object(o.jsx)("div",{className:"inner",children:"homepage"})}),Object(o.jsx)("a",{href:s,className:"button button__secondary",children:Object(o.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]})},j=function(){var e=Object(r.useState)({}),c=Object(a.a)(e,2),t=c[0],j=c[1],h=Object(s.a)(),b=h.getCharacters,d=h.clearError,m=h.process,u=h.setProcess;Object(r.useEffect)((function(){f()}),[]),Object(r.useEffect)((function(){var e=setInterval(f,15e4);return function(){clearInterval(e)}}));var O=function(e){j(e)},f=function(){d();var e=Math.floor(400*Math.random()+1011e3);b(e).then(O).then((function(){return u("confirmed")}))};return Object(o.jsxs)("div",{className:"randomchar",children:[Object(i.a)(m,l,t),Object(o.jsxs)("div",{className:"randomchar__static",children:[Object(o.jsxs)("p",{className:"randomchar__title",children:["Random character for today!",Object(o.jsx)("br",{}),"Do you want to get to know him better?"]}),Object(o.jsx)("p",{className:"randomchar__title",children:"Or choose another one"}),Object(o.jsx)("button",{className:"button button__main",onClick:f,children:Object(o.jsx)("div",{className:"inner",children:"try it"})}),Object(o.jsx)("img",{src:n,alt:"mjolnir",className:"randomchar__decoration"})]})]})},h=t(66),b=t(9);t(105),t(106);function d(e){e.i;var c=e.id,t=e.name,a=e.thumbnail,n=e.imgStyle,r=e.onCharSelected;e.focusOnItem;return Object(o.jsxs)("li",{className:"char__item",tabIndex:0,onClick:function(){return r(c)},onFocus:function(){return r(c)},children:[Object(o.jsx)("img",{src:a,alt:a,style:n}),Object(o.jsx)("div",{className:"char__name",children:t})]})}var m=t(20),u=t(24),O=function(e){var c=Object(r.useState)([]),t=Object(a.a)(c,2),n=t[0],i=t[1],l=Object(r.useState)(!1),j=Object(a.a)(l,2),O=j[0],f=j[1],x=Object(r.useState)(250),_=Object(a.a)(x,2),v=_[0],N=_[1],p=Object(r.useState)(!1),g=Object(a.a)(p,2),y=g[0],w=g[1],S=Object(s.a)(),k=S.getAllCharacters,C=S.process,E=S.setProcess;Object(r.useEffect)((function(){F(v,!0)}),[]);var F=function(e,c){f(!c),k(e).then(I).then((function(){return E("confirmed")}))},I=function(e){var c=!1;e<9&&(c=!0),i([].concat(Object(b.a)(n),Object(b.a)(e))),f(!1),N(v+9),w(c)},M=Object(o.jsx)("ul",{className:"char__grid",children:n.map((function(c,t){var a={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===c.thumbnail&&(a={objectFit:"unset"}),Object(o.jsx)(d,Object(h.a)(Object(h.a)({},c),{},{imgStyle:a,onCharSelected:function(){return e.onCharSelected(c.id)}}),c.id)}))}),T=Object(r.useMemo)((function(){return function(e,c,t){switch(e){case"waiting":return Object(o.jsx)(m.a,{});case"loading":return t?Object(o.jsx)(c,{}):Object(o.jsx)(m.a,{});case"confirmed":return Object(o.jsx)(c,{});case"error":return Object(o.jsx)(u.a,{});default:throw new Error("Unexrected process state")}}(C,(function(){return M}),O)}),[n]);return Object(o.jsxs)("div",{className:"char__list",children:[T,Object(o.jsx)("button",{className:"button button__main button__long",disabled:O,style:{display:y?"none":"block"},onClick:function(){return F(v)},children:Object(o.jsx)("div",{className:"inner",children:"load more"})})]})},f=(t(107),t(12)),x=t(224),_=function(e){var c=e.data,t=c.name,n=c.description,s=c.thumbnail,i=c.homepage,l=c.wiki,j=c.comics,h=Object(r.useState)(!1),b=Object(a.a)(h,2),d=b[0],m=b[1];Object(r.useEffect)((function(){m(!0)}),[]);var u={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===s&&(u={objectFit:"unset"}),Object(o.jsx)(x.a,{timeout:1e3,in:d,classNames:"char",unmountOnExit:!0,children:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"char__basics",children:[Object(o.jsx)("img",{src:s,alt:t,style:u}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"char__info-name",children:t}),Object(o.jsxs)("div",{className:"char__btns",children:[Object(o.jsx)("a",{href:i,className:"button button__main",children:Object(o.jsx)("div",{className:"inner",children:"homepage"})}),Object(o.jsx)("a",{href:l,className:"button button__secondary",children:Object(o.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]}),Object(o.jsx)("div",{className:"char__descr",children:n}),Object(o.jsx)("div",{className:"char__comics",children:"Comics: "}),Object(o.jsxs)("ul",{className:"char__comics-list",children:[j.length?null:"There is no comics with this character",j.map((function(e,c){if(!(c>9))return Object(o.jsx)("li",{className:"char__comics-item",children:Object(o.jsx)(f.b,{to:"/comics/".concat(e.resourceURI.substring(43)),children:e.name})},c)}))]})]})})},v=function(e){var c=e.charId,t=Object(r.useState)(null),n=Object(a.a)(t,2),l=n[0],j=n[1],h=Object(s.a)(),b=h.process,d=h.setProcess,m=h.getCharacters,u=h.clearError;Object(r.useEffect)((function(){O()}),[c]);var O=function(){c&&(u(),m(c).then(f).then((function(){return d("confirmed")})))},f=function(e){j(e)};return Object(o.jsx)("div",{className:"char__info",children:Object(i.a)(b,_,l)})},N=t.p+"static/media/vision.067d4ae1.png",p=t(11),g=t(15),y=t(16),w=t(17),S=function(e){Object(y.a)(t,e);var c=Object(w.a)(t);function t(){var e;Object(p.a)(this,t);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).state={error:!1},e}return Object(g.a)(t,[{key:"componentDidCatch",value:function(e,c){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?Object(o.jsx)(u.a,{}):this.props.children}}]),t}(r.Component),k=t(219),C=t(220),E=(t(216),function(e,c,t){switch(e){case"waiting":return null;case"loading":return t?Object(o.jsx)(c,{}):null;case"confirmed":return Object(o.jsx)(c,{});case"error":return Object(o.jsx)(u.a,{});default:throw new Error("Unexrected process state")}}),F=function(){var e=Object(r.useState)(null),c=Object(a.a)(e,2),t=c[0],n=c[1],i=Object(r.useState)(!1),l=Object(a.a)(i,2),j=l[0],h=l[1],b=Object(s.a)(),d=b.getCharacterByName,m=b.clearError,u=b.process,O=b.setProcess,x=function(e){n(e),h(!1)},_=t?t.length>0?Object(o.jsxs)("div",{className:"char__search-wrapper",children:[Object(o.jsxs)("div",{className:"char__search-success",children:["There is! Visit ",t[0].name," page?"]}),Object(o.jsx)(f.b,{to:"/characters/".concat(t[0].id),className:"button button__secondary",children:Object(o.jsx)("div",{className:"inner",children:"To page"})})]}):Object(o.jsx)("div",{className:"char__search-error",children:"The character was not found. Check the name and try again"}):null;return Object(o.jsxs)("div",{className:"char__search-form",children:[Object(o.jsx)(k.d,{initialValues:{charName:""},validationSchema:C.a({charName:C.b().required("This field is required")}),onSubmit:function(e){var c,t=e.charName;c=t,m(),h(!0),d(c).then(x).then((function(){return O("confirmed")}))},children:Object(o.jsxs)(k.c,{children:[Object(o.jsx)("label",{className:"char__search-label",htmlFor:"charName",children:"Or find a character by name:"}),Object(o.jsxs)("div",{className:"char__search-wrapper",children:[Object(o.jsx)(k.b,{id:"charName",name:"charName",type:"text",placeholder:"Enter name"}),Object(o.jsx)("button",{type:"submit",className:"button button__main",disabled:j,children:Object(o.jsx)("div",{className:"inner",children:"find"})})]}),Object(o.jsx)(k.a,{component:"div",className:"char__search-error",name:"charName"})]})}),E(u,(function(){return _}),j)]})},I=t(25);function M(){var e=Object(r.useState)(null),c=Object(a.a)(e,2),t=c[0],n=c[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(I.a,{children:[Object(o.jsx)("meta",{name:"description",content:"Marvel information portal"}),Object(o.jsx)("title",{children:"Marvel information portal"})]}),Object(o.jsx)(S,{children:Object(o.jsx)(j,{})}),Object(o.jsxs)("div",{className:"char__content",children:[Object(o.jsx)(S,{children:Object(o.jsx)(O,{onCharSelected:function(e){n(e)}})}),Object(o.jsxs)("div",{children:[Object(o.jsx)(S,{children:Object(o.jsx)(v,{charId:t})}),Object(o.jsx)(S,{children:Object(o.jsx)(F,{})})]})]}),Object(o.jsx)("img",{className:"bg-decoration",src:N,alt:"vision"})]})}}}]);
//# sourceMappingURL=4.c9f7ad3d.chunk.js.map